3:I[4756,[],""]
5:I[3824,[],""]
6:I[1495,["95","static/chunks/95-14a2ecd37e43ddcd.js","185","static/chunks/app/layout-19ed71eb43b21a48.js"],"default"]
7:I[880,["95","static/chunks/95-14a2ecd37e43ddcd.js","185","static/chunks/app/layout-19ed71eb43b21a48.js"],"default"]
4:["section","methods","oc"]
0:["MnjJaTkKQUnFn00hCpH8E",[[["",{"children":[["section","methods","oc"],{"children":["__PAGE__?{\"section\":[\"methods\"]}",{}]}]},"$undefined","$undefined",true],["",{"children":[["section","methods","oc"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"rel":"preconnect","href":"https://fonts.gstatic.com/","crossOrigin":"true"}],["$","script",null,{"src":"https://jaxs.onl/use-eye-dropper/chroma.js"}],["$","script",null,{"src":"https://jaxs.onl/use-eye-dropper/colors.js"}]]}],["$","body",null,{"className":"light","children":["$","div",null,{"id":"__next","style":{"--dropper-color":"#0074e0","--dropper-outline":"#abbbf2","--dropper-background":"#003897","--dropper-background88":"#003897e0","--dropper-background0":"#00389700","--dropper-lightText":"#0074e0","--dropper-text":"#abbbf2","--dropper-colorText":"#0074e0","--dropper-apple":"black-translucent"},"suppressHydrationWarning":true,"children":[["$","script",null,{"dangerouslySetInnerHTML":{"__html":"!function(){try{var e,s,f,v,p,o=document,d=o.documentElement,c=o.cookie,k=`; ${c}`.split(\"; color=\");if(2===k.length&&(e=k.pop().split(\";\").shift())){v=JSON.parse(e);if(typeof v===\"string\"&&v.length===7&&!isNaN(Number(\"0x\"+v.substring(1)))){s=v;f=true}}if(!f)s=\"#0074e0\";window.UED_COLOR=s;document.addEventListener(\"DOMContentLoaded\",function(){document.getElementById(\"ued-color\").setAttribute(\"data-text\",s)})}catch(_){}}()"}}],["$","$L6",null,{"children":["$","$L7",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]}]]}]}]]}],null],null],[null,"$L8"]]]]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1, viewport-fit=cover"}],["$","meta","1",{"name":"theme-color","content":"#003897"}],["$","meta","2",{"charSet":"utf-8"}],["$","title","3",{"children":"use-eye-dropper"}],["$","meta","4",{"name":"description","content":"Browser color picker hook for React"}],["$","meta","5",{"name":"creator","content":"Jaxson Van Doorn"}],["$","meta","6",{"name":"publisher","content":"Jaxson Van Doorn"}],["$","link","7",{"rel":"shortcut icon","href":"/use-eye-dropper/favicon.ico"}],["$","link","8",{"rel":"icon","href":"/use-eye-dropper/favicon.ico"}]]
1:null
9:I[8437,["273","static/chunks/e729fd90-ac2d61c6f312a439.js","332","static/chunks/d00adda3-0f0f390cc3bc7d8d.js","50","static/chunks/ee226fe0-bdc051c99632c942.js","997","static/chunks/60d93dc6-fb443a2db1c941c8.js","837","static/chunks/e40d0b89-ab100fcc1b2d0a89.js","256","static/chunks/39c3adb9-a5a2838fdb88147c.js","97","static/chunks/97-f319c12aa8d0f8b9.js","566","static/chunks/566-d1b56dc536f9ae70.js","460","static/chunks/app/%5B%5B...section%5D%5D/page-56a4fbcfe8969a81.js"],"default"]
a:I[957,["273","static/chunks/e729fd90-ac2d61c6f312a439.js","332","static/chunks/d00adda3-0f0f390cc3bc7d8d.js","50","static/chunks/ee226fe0-bdc051c99632c942.js","997","static/chunks/60d93dc6-fb443a2db1c941c8.js","837","static/chunks/e40d0b89-ab100fcc1b2d0a89.js","256","static/chunks/39c3adb9-a5a2838fdb88147c.js","97","static/chunks/97-f319c12aa8d0f8b9.js","566","static/chunks/566-d1b56dc536f9ae70.js","460","static/chunks/app/%5B%5B...section%5D%5D/page-56a4fbcfe8969a81.js"],"default"]
c:I[8437,["273","static/chunks/e729fd90-ac2d61c6f312a439.js","332","static/chunks/d00adda3-0f0f390cc3bc7d8d.js","50","static/chunks/ee226fe0-bdc051c99632c942.js","997","static/chunks/60d93dc6-fb443a2db1c941c8.js","837","static/chunks/e40d0b89-ab100fcc1b2d0a89.js","256","static/chunks/39c3adb9-a5a2838fdb88147c.js","97","static/chunks/97-f319c12aa8d0f8b9.js","566","static/chunks/566-d1b56dc536f9ae70.js","460","static/chunks/app/%5B%5B...section%5D%5D/page-56a4fbcfe8969a81.js"],"Scroll"]
b:T1d2e,var Component=(()=>{var a=Object.create;var t=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),f=(n,e)=>{for(var o in e)t(n,o,{get:e[o],enumerable:!0})},c=(n,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of m(e))!y.call(n,i)&&i!==o&&t(n,i,{get:()=>e[i],enumerable:!(s=u(e,i))||s.enumerable});return n};var b=(n,e,o)=>(o=n!=null?a(g(n)):{},c(e||!n||!n.__esModule?t(o,"default",{value:n,enumerable:!0}):o,n)),E=n=>c(t({},"__esModule",{value:!0}),n);var l=w((D,p)=>{p.exports=_jsx_runtime});var S={};f(S,{default:()=>h,frontmatter:()=>k});var r=b(l()),k=void 0;function d(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{children:"useEyeDropper"}),`
`,(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://github.com/woofers/use-eye-dropper/actions",children:(0,r.jsx)(e.img,{src:"https://github.com/woofers/use-eye-dropper/actions/workflows/workflow.yml/badge.svg",alt:"img"})})," ",(0,r.jsx)(e.a,{href:"https://www.npmjs.com/package/use-eye-dropper",children:(0,r.jsx)(e.img,{src:"https://badge.fury.io/js/use-eye-dropper.svg",alt:"img"})})," ",(0,r.jsx)(e.a,{href:"https://www.npmjs.com/package/use-eye-dropper",children:(0,r.jsx)(e.img,{src:"https://img.shields.io/npm/dt/use-eye-dropper.svg",alt:"img"})})," ",(0,r.jsx)(e.a,{href:"https://bundlephobia.com/result?p=use-eye-dropper",children:(0,r.jsx)(e.img,{src:"https://badgen.net/bundlephobia/minzip/use-eye-dropper",alt:"img"})})," ",(0,r.jsx)(e.a,{href:"https://github.com/woofers/use-eye-dropper/blob/main/LICENSE",children:(0,r.jsx)(e.img,{src:"https://img.shields.io/npm/l/use-eye-dropper.svg",alt:"img"})})]}),`
`,(0,r.jsx)(e.p,{children:"\u{1F440}\u{1FA78}\u{1F9EB} Browser color picker hook for React."}),`
`,(0,r.jsxs)(e.p,{children:["Implements the ",(0,r.jsx)(e.a,{href:"https://github.com/WICG/eyedropper-api",children:"EyeDropper API"}),`
into an easy-to-use React hook.  This API is currently only available in Chromium based browsers.`]}),`
`,(0,r.jsx)(e.h2,{children:"Features"}),`
`,(0,r.jsxs)(e.ul,{children:[`
`,(0,r.jsx)(e.li,{children:"Supports Server-Side rendering."}),`
`,(0,r.jsx)(e.li,{children:"Test coverage with unit and integration tests."}),`
`,(0,r.jsx)(e.li,{children:"TypeScript support"}),`
`,(0,r.jsx)(e.li,{children:"Under 670 bytes GZipped"}),`
`,(0,r.jsxs)(e.li,{children:["Safely detect and fallback on unsupported browsers using ",(0,r.jsx)(e.code,{children:"isSupported"})," method."]}),`
`,(0,r.jsx)(e.li,{children:"Closes eye dropper when corresponding component is unmounted."}),`
`,(0,r.jsxs)(e.li,{children:["Provides explicit ",(0,r.jsx)(e.code,{children:"close"})," method to cancel eye dropper (signals can still be used)."]}),`
`]}),`
`,(0,r.jsx)(e.h2,{children:"Installation"}),`
`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"pnpm"})}),`
`,(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-pnpm",children:`pnpm add use-eye-dropper
`})}),`
`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Yarn"})}),`
`,(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yarn",children:`yarn add use-eye-dropper
`})}),`
`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"npm"})}),`
`,(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-npm",children:`npm install use-eye-dropper
`})}),`
`,(0,r.jsx)(e.h2,{children:"Usage"}),`
`,(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-jsx",children:`import React, { useState, useCallback } from 'react'
import useEyeDropper from 'use-eye-dropper'

const App = () => {
  const { open, close, isSupported } = useEyeDropper()
  const [color, setColor] = useState('#fff')
  const [error, setError] = useState()
  // useEyeDropper will reject/cleanup the open() promise on unmount,
  // so setState never fires when the component is unmounted.
  const pickColor = useCallback(() => {
    // Using async/await (can be used as a promise as-well)
    const openPicker = async () => {
      try {
        const color = await open()
        setColor(color.sRGBHex)
      } catch (e) {
        console.log(e)
        // Ensures component is still mounted
        // before calling setState
        if (!e.canceled) setError(e)
      }
    }
    openPicker()
  }, [open])
  return (
    <>
      <div style={{ padding: '64px', background: color }}>Selected color</div>
      {isSupported() ?
          <button onClick={pickColor}>Pick color</button>
        : <span>EyeDropper API not supported in this browser</span>
      }
      {!!error && <div>{error.message}</div>}
    </>
  )
}
`})}),`
`,(0,r.jsx)(e.h3,{children:"Usage with TypeScript"}),`
`,(0,r.jsxs)(e.p,{children:[`With TypeScript all of the types will be inferred where possible, however if you need to use error
handling some type-guard functions can be used to narrow down the type of the
error from the catch block.  Otherwise it will be `,(0,r.jsx)(e.code,{children:"unknown"}),"."]}),`
`,(0,r.jsx)(e.p,{children:`Here is one approach to deal
with this when working with TypeScript and dropper errors:`}),`
`,(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:`type DropperError = { 
  message: string
  canceled?: boolean
}

const isError = <T, >(err: DropperError | T): err is DropperError => 
  !!err && err instanceof Error && !!err.message

const isNotCanceled = <T, >(err: DropperError | T): err is DropperError =>
  isError(err) && !err.canceled
`})}),`
`,(0,r.jsxs)(e.p,{children:["and then ",(0,r.jsx)(e.code,{children:"!e.canceled"})," can be replaced with ",(0,r.jsx)(e.code,{children:"isNotCanceled(e)"}),", the type-guard will enforce a proper type when using ",(0,r.jsx)(e.code,{children:"setError"}),"."]}),`
`,(0,r.jsxs)(e.p,{children:["This will also work for ",(0,r.jsx)(e.code,{children:"isError"}),"."]}),`
`,(0,r.jsx)(e.h2,{children:"Methods"}),`
`,(0,r.jsxs)(e.ul,{children:[`
`,(0,r.jsxs)(e.li,{children:[`
`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"open({ signal?: AbortSignal }) => Promise<{ sRGBHex: string }>'"})}),`
`,(0,r.jsxs)(e.p,{children:[`Opens the EyeDropper API in supported browsers and returns a
promise which will resolve with the selected color.  Alternatively the promise will be rejected if
the user cancels the operation, for instance by hitting escape.
Additionally if the browser does not support the API, the
promise is rejected. While the spec currently indicates that a
6-digit HEX value is returned, the current Chrome implementation
returns a `,(0,r.jsx)(e.code,{children:"rgba"})," value."]}),`
`]}),`
`,(0,r.jsxs)(e.li,{children:[`
`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"close() => void"})}),`
`,(0,r.jsxs)(e.p,{children:[`This method closes the EyeDropper API selector if it is open and
rejects the promise from `,(0,r.jsx)(e.code,{children:"open"}),`. Otherwise this
performs a no-op.`]}),`
`]}),`
`,(0,r.jsxs)(e.li,{children:[`
`,(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"isSupported() => boolean"})}),`
`,(0,r.jsx)(e.p,{children:"Determines if the EyeDropper API is supported in the current browser."}),`
`]}),`
`]})]})}function h(n={}){let{wrapper:e}=n.components||{};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}return E(S);})();
;return Component;2:[["$","$L9",null,{"children":["$","$La",null,{"code":"$b"}]}],["$","$Lc",null,{"section":"methods"}]]
