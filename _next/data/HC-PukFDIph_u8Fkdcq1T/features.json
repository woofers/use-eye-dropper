{"pageProps":{"code":"var Component=(()=>{var a=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var y=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),b=(r,e)=>{for(var o in e)t(r,o,{get:e[o],enumerable:!0})},c=(r,e,o,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of u(e))!g.call(r,s)&&s!==o&&t(r,s,{get:()=>e[s],enumerable:!(i=h(e,s))||i.enumerable});return r};var f=(r,e,o)=>(o=r!=null?a(m(r)):{},c(e||!r||!r.__esModule?t(o,\"default\",{value:r,enumerable:!0}):o,r)),w=r=>c(t({},\"__esModule\",{value:!0}),r);var p=y((E,l)=>{l.exports=_jsx_runtime});var S={};b(S,{default:()=>v});var n=f(p());function d(r){let e=Object.assign({h1:\"h1\",p:\"p\",a:\"a\",img:\"img\",h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\",strong:\"strong\",pre:\"pre\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\"useEyeDropper\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/woofers/use-eye-dropper/actions\",children:(0,n.jsx)(e.img,{src:\"https://github.com/woofers/use-eye-dropper/workflows/build/badge.svg\",alt:\"img\"})}),\" \",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/use-eye-dropper\",children:(0,n.jsx)(e.img,{src:\"https://badge.fury.io/js/use-eye-dropper.svg\",alt:\"img\"})}),\" \",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/use-eye-dropper\",children:(0,n.jsx)(e.img,{src:\"https://img.shields.io/npm/dt/use-eye-dropper.svg\",alt:\"img\"})}),\" \",(0,n.jsx)(e.a,{href:\"https://bundlephobia.com/result?p=use-eye-dropper\",children:(0,n.jsx)(e.img,{src:\"https://badgen.net/bundlephobia/minzip/use-eye-dropper\",alt:\"img\"})}),\" \",(0,n.jsx)(e.a,{href:\"https://github.com/woofers/use-eye-dropper/blob/main/LICENSE\",children:(0,n.jsx)(e.img,{src:\"https://img.shields.io/npm/l/use-eye-dropper.svg\",alt:\"img\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u{1F440}\\u{1FA78}\\u{1F9EB} Browser color picker hook for React.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Implements the \",(0,n.jsx)(e.a,{href:\"https://github.com/WICG/eyedropper-api\",children:\"EyeDropper API\"}),`\ninto an easy-to-use React hook.  This API is currently only available in Chromium based browsers.`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Features\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Supports Server-Side rendering.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Test coverage with unit and integration tests.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Safely detect and fallback on unsupported browsers using \",(0,n.jsx)(e.code,{children:\"isSupported\"}),\" method.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"Closes eye dropper when corresponding component is unmounted.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Provides explicit \",(0,n.jsx)(e.code,{children:\"close\"}),\" method to cancel eye dropper (signals can still be used).\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Installation\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Yarn\"})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-yarn\",children:`yarn add use-eye-dropper\n`})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"npm\"})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-npm\",children:`npm install use-eye-dropper\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Usage\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-jsx\",children:`import React, { useState, useCallback } from 'react'\nimport useEyeDropper from 'use-eye-dropper'\n\nconst App = () => {\n  const { open, close, isSupported } = useEyeDropper()\n  const [color, setColor] = useState('#fff')\n  const [error, setError] = useState()\n  // useEyeDropper will reject/cleanup the open() promise on unmount,\n  // so setState never fires when the component is unmounted.\n  const pickColor = useCallback(() => {\n    // Using async/await (can be used as a promise as-well)\n    const openPicker = async () => {\n      try {\n        const color = await open()\n        setColor(color.sRGBHex)\n      } catch (e) {\n        console.log(e)\n        // Ensures component is still mounted\n        // before calling setState\n        if (!e.canceled) setError(e)\n      }\n    }\n    openPicker()\n  }, [open])\n  return (\n    <>\n      <div style={{ padding: '64px', background: color }}>Selected color</div>\n      {isSupported() ?\n          <button onClick={pickColor}>Pick color</button>\n        : <span>EyeDropper API not supported in this browser</span>\n      }\n      {!!error && <span>{error.message}</span>}\n    </>\n  )\n}\n`})}),`\n`,(0,n.jsx)(e.h2,{children:\"Methods\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"open({ signal?: AbortSignal }) => Promise<{ sRGBHex: string }>'\"})}),`\n`,(0,n.jsxs)(e.p,{children:[`Opens the EyeDropper API in supported browsers and returns a\npromise which will resolve with the selected color.  Alternatively the promise will be rejected if\nthe user cancels the operation, for instance by hitting escape.\nAdditionally if the browser does not support the API, the\npromise is rejected. While the spec currently indicates that a\n6-digit HEX value is returned, the current Chrome implementation\nreturns a `,(0,n.jsx)(e.code,{children:\"rgba\"}),\" value.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"close() => void\"})}),`\n`,(0,n.jsxs)(e.p,{children:[`This method closes the EyeDropper API selector if it is open and\nrejects the promise from `,(0,n.jsx)(e.code,{children:\"open\"}),`. Otherwise this\nperforms a no-op.`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"isSupported() => boolean\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Determines if the EyeDropper API is supported in the current browser.\"}),`\n`]}),`\n`]})]})}function k(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(d,r)})):d(r)}var v=k;return w(S);})();\n;return Component;","frontmatter":{}},"__N_SSG":true}